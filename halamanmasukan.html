<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Saran Kritik Page</title>
  <link href="style.css" rel="stylesheet" type="text/css" />

  <style>
    .sticky-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 999;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #F2F2F2;
      margin: 0;
      padding: 0;
    }

    #pesan-dialog {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 400px;
      padding: 20px;
      background-color: #FFFFFF;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 5px;
      text-align: center;
    }

    #pesan-dialog h2 {
      font-size: 20px;
      margin-bottom: 20px;
    }

    #pesan-dialog label {
      display: block;
      margin-bottom: 10px;
      font-weight: bold;
      color: #333333;
    }

    #pesan-dialog textarea {
      width: 100%;
      height: 100px;
      padding: 10px;
      border: 1px solid #CCCCCC;
      border-radius: 5px;
      resize: none;
      margin-bottom: 20px;
    }

    #pesan-dialog .send-btn {
      background-color: #FFA463;
      color: #FFFFFF;
      border: none;
      border-radius: 5px;
      padding: 10px 20px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      margin-right: 10px;
    }

    #pesan-dialog .send-btn:hover {
      background-color: #FF8542;
    }

    #pesan-dialog .cancel-btn {
      background-color: #999999;
      color: #FFFFFF;
      border: none;
      border-radius: 5px;
      padding: 10px 20px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      margin-right: 10px;
    }

    #pesan-dialog .cancel-btn:hover {
      background-color: #777777;
    }

    .container {
      max-width: 800px;
      margin: 150px auto;
      padding: 20px;
    }

    h1 {
      text-align: center;
      color: #333333;
    }

    .input-section {
      background-color: #FFFFFF;
      padding: 20px;
      border-radius: 5px;
      margin-bottom: 20px;
    }

    .input-section label {
      display: block;
      margin-bottom: 10px;
      font-weight: bold;
      color: #333333;
    }

    .input-section input[type="text"],
    .input-section textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #CCCCCC;
      border-radius: 5px;
    }

    .input-section textarea {
      height: 150px;
    }

    button {
      background-color: #FFA463;
      color: #FFFFFF;
      border: none;
      border-radius: 5px;
      padding: 10px 20px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      margin-bottom: 10px;
    }

    button:hover {
      background-color: #FF8542;
    }

    .feedback-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .feedback-list li {
      background-color: #FFFFFF;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 20px;
      box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.1);
      border: 2px solid #FFA463;
      transition: border-color 0.3s ease;
      word-wrap: break-word;
    }

    .feedback-list li:hover {
      border-color: #FF8542;
    }

    .feedback-list li p {
      margin-top: 10px;
      color: #333333;
    }

    .feedback-list li small {
      color: #888888;
      font-size: 12px;

    }

    .feedback-list li .balasan {
      margin-top: 10px;
      padding: 10px;
      background-color: #F2F2F2;
    }

    .feedback-list li .lihat-balasan-btn {
      margin-top: 15px;
    }

    .feedback-list li .sembunyikan-balasan-btn {
      margin-top: 15px;
    }

    .lihat-balasan-btn {
      background-color: #FFA463;
      color: #FFFFFF;
    }

    .lihat-balasan-btn:hover {
      background-color: #FF8542;
    }

    .sembunyikan-balasan-btn {
      background-color: #999999;
      color: #FFFFFF;
    }

    .sembunyikan-balasan-btn:hover {
      background-color: #777777;
    }

    .hidden {
      display: none;
    }

    .sidebar ul .sidebar-profil {
      background-color: white;
    }

    .sidebar-profil .a-link {
      color: #FFA463;
    }
  </style>
</head>

<body>
  <header>
    <div class="menu-icon">
      <img src="IMG/sidebar.jpg" alt="Menu Icon" onclick="toggleSidebar()">
    </div>
    <a href="#" class="logo">RUSJA</a>
    <ul>
      <li><a href="mainpage.html">HOME</a></li>
      <li><a href="about_mainpage.html">ABOUT</a></li>
      <li><a href="search_mainpage.html">SEARCH</a></li>
      <li><a href="#" class="btn">AKUN</a></li>
    </ul>
  </header>
  <div class="sidebar" id="sidebar">
    <ul>
      <li><a href="profil.html">PROFIL</a></li>
      <li class="sidebar-profil"><a href="halamanmasukan.html" class="a-link">SARAN KRITIK</a></li>
      <li><a href="#" onclick="logout()">LOGOUT</a></li>
    </ul>
  </div>

  <dialog id="pesan-dialog">
    <h2>Beri Pesan</h2>
    <textarea id="message" placeholder="Tulis pesan disini..."></textarea>
    <button class="send-btn">Kirim</button>
    <button class="cancel-btn">Batal</button>
  </dialog>

  <div class="container">
    <h1>Masukan</h1>
    <button type="button" onclick="showpesanDialog()">+ Berikan Masukan</button>
    <br>
    <div class="feedback-list" id="new-feedback">
      <h2>Pesan Terkirim :</h2><br>
      <li class="feedback-item hidden">
        <small class="suggestion-date"></small>
        <p class="suggestion-text"></p><br><br>
        <button class="lihat-balasan-btn hidden" onclick="lihatBalasan(this)">Lihat Balasan</button>
        <div class="balasan hidden"></div>
      </li>
    </div>
  </div>
  <script>
    function logout() {
      var confirmation = confirm("Apakah Anda yakin ingin logout?");
      if (confirmation) {
        window.location.href = "index.html";
        // Lakukan tindakan logout di sini
        alert("Anda telah logout");
        // Redirect ke halaman login atau halaman lain jika diperlukan
      } else {
        // Jika pengguna membatalkan logout, tidak ada tindakan tambahan yang perlu dilakukan
        // window.location.href = "mainpage.html";
      }
    }
    window.addEventListener('scroll', function () {
      var header = document.querySelector('header');
      var overlay = document.querySelector('.overlay');
      var distance = overlay.getBoundingClientRect().top;

      if (window.pageYOffset > distance) {
        header.classList.add('sticky-header');
      } else {
        header.classList.remove('sticky-header');
      }
    });

    function toggleSidebar() {
      var sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('active');
    }

    function showpesanDialog() {
      var pesanDialog = document.getElementById('pesan-dialog');
      pesanDialog.show();
    }

    function hidepesanDialog() {
      var pesanDialog = document.getElementById('pesan-dialog');
      pesanDialog.close();
    }

    function kirimPesan() {
      var messageInput = document.getElementById('message');
      var messageText = messageInput.value.trim(); // Menghapus spasi di awal dan akhir teks

      if (messageText === '') {
        alert('Mohon isi pesan sebelum mengirim!');
        return;
      }

      var feedbackList = document.getElementById('new-feedback');
      var feedbackItem = document.createElement('li');
      feedbackItem.classList.add('feedback-item');

      var suggestionDate = document.createElement('small');
      suggestionDate.classList.add('suggestion-date');
      suggestionDate.textContent = getCurrentTime();
      feedbackItem.appendChild(suggestionDate);

      var suggestionText = document.createElement('p');
      suggestionText.classList.add('suggestion-text');
      suggestionText.textContent = messageText;
      feedbackItem.appendChild(suggestionText);

      var lihatBalasanBtn = document.createElement('button');
      lihatBalasanBtn.classList.add('lihat-balasan-btn', 'hidden');
      lihatBalasanBtn.textContent = 'Lihat Balasan';
      lihatBalasanBtn.addEventListener('click', function () {
        lihatBalasan(this);
      });
      feedbackItem.appendChild(lihatBalasanBtn);

      var balasan = document.createElement('div');
      balasan.classList.add('balasan', 'hidden');
      feedbackItem.appendChild(balasan);

      feedbackList.appendChild(feedbackItem);

      messageInput.value = '';
      hidepesanDialog();
      lihatBalasanBtn.classList.remove('hidden');
      feedbackItem.classList.remove('hidden');

    }

    function getCurrentTime() {
      var now = new Date();
      var day = now.getDate().toString().padStart(2, '0');
      var month = (now.getMonth() + 1).toString().padStart(2, '0');
      var year = now.getFullYear().toString();
      var hours = now.getHours().toString().padStart(2, '0');
      var minutes = now.getMinutes().toString().padStart(2, '0');
      var time = 'dikirim pada: ' + day + ' ' + getMonthName(month) + ' ' + year + ' pukul ' + hours + ':' + minutes;
      return time;
    }

    function getMonthName(month) {
      var monthNames = [
        'Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni',
        'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'
      ];
      return monthNames[parseInt(month) - 1];
    }

    function lihatBalasan(button) {
      var balasan = button.nextElementSibling;
      balasan.classList.toggle('hidden');
      if (!balasan.classList.contains('hidden')) {
        balasan.innerHTML = "Ini adalah balasan atas masukan Anda."; // Ganti dengan balasan yang sesuai
        button.innerHTML = "Sembunyikan Balasan";
        button.classList.replace('lihat-balasan-btn', 'sembunyikan-balasan-btn');
      } else {
        button.innerHTML = "Lihat Balasan";
        button.classList.replace('sembunyikan-balasan-btn', 'lihat-balasan-btn');
      }
    }

    document.addEventListener('DOMContentLoaded', function () {
      var sendBtn = document.querySelector('#pesan-dialog .send-btn');
      sendBtn.addEventListener('click', kirimPesan);

      var cancelBtn = document.querySelector('#pesan-dialog .cancel-btn');
      cancelBtn.addEventListener('click', hidepesanDialog);
    });

  </script>
</body>

</html>